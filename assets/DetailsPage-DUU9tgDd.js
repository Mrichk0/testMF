import{j as r,r as x,f as v,g as _}from"./index-OVXgv9DV.js";const f="_gridContainer_1wdvx_1",w="_tileWrapper_1wdvx_8",y={gridContainer:f,tileWrapper:w},j="_tile_8appz_1",$="_tileImage_8appz_10",W="_videoWrapper_8appz_16",C="_tileText_8appz_30",l={tile:j,tileImage:$,videoWrapper:W,tileText:C},N="http://0.0.0.0:8055",R=({data:t})=>{const a=()=>{switch(t.type){case"image":return r.jsx("img",{src:`${N}/assets/${t.content}`,alt:"",className:l.tileImage});case"video":const s=t.content.includes("youtube.com/watch")?t.content.replace("watch?v=","embed/"):t.content;return r.jsx("div",{className:l.videoWrapper,children:r.jsx("iframe",{src:s,title:"video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})});case"text":default:return r.jsx("p",{className:l.tileText,children:t.content})}};return r.jsx("div",{className:`${l.tile} ${l[`tile-${t.type}`]}`,children:a()})},T=({tiles:t})=>{const a=x.useRef(null),[o,s]=x.useState(0);x.useEffect(()=>{const e=()=>{if(a.current){const i=a.current.offsetWidth-40,c=Math.max(...t.map(u=>u.x2)),n=(i-(c-1)*10)/c;s(n*.75)}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[t]);const d={display:"grid",gridTemplateColumns:`repeat(${Math.max(...t.map(e=>e.x2))}, 1fr)`,gridAutoRows:`${o}px`,gap:"10px",padding:"20px"};return r.jsx("div",{ref:a,className:y.gridContainer,style:d,children:t.map(e=>{const i={gridColumn:`${e.x1+1} / ${e.x2+1}`,gridRow:`${e.y1+1} / span ${e.y2-e.y1}`,height:`${o*(e.y2-e.y1)}px`};return r.jsx("div",{style:i,className:y.tileWrapper,children:r.jsx(R,{data:e})},e.id)})})},b="_detailsPage_zdqt9_1",z={detailsPage:b},E=({slug:t})=>{var i,c;const{slug:a}=v(),o=t||a,{data:s,isLoading:g,error:d}=_(o);if(g)return r.jsx("div",{children:"Loading..."});if(d)return r.jsxs("div",{children:["Error: ",d.message]});if(!s)return r.jsx("div",{children:"No data available"});const e=((i=s==null?void 0:s.template)==null?void 0:i.map(n=>{const u=p=>{var m,h;switch(p.type){case"text":return((h=(m=p.translations)==null?void 0:m[0])==null?void 0:h.text)||"";case"image":return p.image||"";case"video":return p.video_url||"";default:return""}};return{id:n.id,type:n.type,content:u(n),x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2}}))||[];return r.jsxs("div",{className:z.detailsPage,children:[r.jsx("h1",{children:(c=s.translations[0])==null?void 0:c.title}),e.length>0&&r.jsx(T,{tiles:e})]})};export{E as default};
//# sourceMappingURL=DetailsPage-DUU9tgDd.js.map
